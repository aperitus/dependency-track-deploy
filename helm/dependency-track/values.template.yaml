# Rendered by the workflow into values.generated.yaml
# Placeholders are replaced using a non-echoing Python step.

common:
  image:
    registry: "<REGISTRY_SERVER>"
    pullSecrets:
      - name: "<IMAGE_PULL_SECRET_NAME>"

  # Prefer a stable secret key in production.
  # Set either:
  #   - createSecret: true
  # OR
  #   - existingSecretName: <some-secret>
  secretKey:
    createSecret: <DTRACK_SECRET_KEY_CREATE>
    existingSecretName: "<DTRACK_SECRET_KEY_EXISTING_SECRET_NAME>"

apiServer:
  image:
    registry: "<REGISTRY_SERVER>"
    repository: "<DTRACK_APISERVER_IMAGE_REPOSITORY>"
    tag: "<DTRACK_APISERVER_IMAGE_TAG>"

  persistentVolume:
    enabled: <DTRACK_APISERVER_PV_ENABLED>
    className: "<DTRACK_APISERVER_PV_CLASSNAME>"
    size: "<DTRACK_APISERVER_PV_SIZE>"

  extraEnvFrom:
    - secretRef:
        name: "<DTRACK_APP_CONFIG_SECRET_NAME>"

frontend:
  image:
    registry: "<REGISTRY_SERVER>"
    repository: "<DTRACK_FRONTEND_IMAGE_REPOSITORY>"
    tag: "<DTRACK_FRONTEND_IMAGE_TAG>"

  apiBaseUrl: "<DTRACK_FRONTEND_API_BASE_URL>"

  extraEnvFrom:
    - secretRef:
        name: "<DTRACK_FRONTEND_CONFIG_SECRET_NAME>"

ingress:
  enabled: true
  hostname: "<DTRACK_INGRESS_HOST>"
  ingressClassName: "<DTRACK_INGRESS_CLASS_NAME>"
  annotations: <DTRACK_INGRESS_ANNOTATIONS_JSON>
  tls:
    - secretName: "<INGRESS_TLS_SECRET_NAME>"
      hosts:
        - "<DTRACK_INGRESS_HOST>"
